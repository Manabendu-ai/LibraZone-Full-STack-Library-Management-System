<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Issue Page</title>
    <link rel="stylesheet" th:href="@{/homestyle.css}">
    <link rel="stylesheet" th:href = "@{/issues.css}">
    <link rel="icon"  th:href="@{/icon.png}">
</head>
<body style="background: #000722">
<nav class="nav-bar">
    <div class="nav-header">
        <a href="#">
            <img th:src="@{/icon.png}" width="30" >
        </a>
        <a href="/home">Home</a>
        <a href="/newdistro" style="
        background-color:#4ad9c7;
        color: black;
        padding: 5px 10px;
        font-size: 16px;
        font-weight: 600;
        height: 100%;
        ">
            New Distribution
        </a>
    </div>

    <div class="user">
        <div>
            <p>Hello</p>
            <h4 th:text="${session.admin.getName()}"></h4>
        </div>
        <a href="/login">Log out</a>
    </div>

</nav>

    <div class="p-title">
        <h2>TRACK DISTRIBUTION RECORDS</h2>
        <h2>OR ISSUE BOOK</h2>
    </div>

    <div class="search_track">
        <form action = "/search_issue" method = "get">
            <div class = "search-track">
                <input type="text" class = "track-input" name="val" placeholder="search Issues By Id, Book or Member">
                <button type="submit" class="sr-btn">
                    OK
                </button>
            </div>
        </form>
    </div>

    <div class="records">
        <table border="2" style="color: white; border-color: #00A0DC">
            <tr align="center">
        <div class="table-header">
            <th width="100">ID</th>
            <th width="120">MEMBER ID</th>
            <th width="100">BOOK ID</th>
            <th width="100">MEMBER NAME</th>
            <th width="200">BOOK TITLE</th>
            <th width="130">ISSUE DATE</th>
            <th width="130">DUE DATE</th>
            <th width="130">RETURN DATE</th>
            <th width="100">FINE</th>
        </div>
            </tr>
            <tr align="center" th:each="track : ${tracks}" th:if="${tracks != null and !tracks.isEmpty()}">
                <div class="table-items" >
                    <td width="100" th:text="${track.id}"></td>
                    <td width="100" th:text="${track.member.mem_id}"></td>
                    <td width="100" th:text="${track.book.book_id}"></td>
                    <td width="200" th:text="${track.member.mem_name}"></td>
                    <td width="100" th:text="${track.book.title}"></td>
                    <td width="100" th:text="${track.issue_date}"></td>
                    <td width="100" th:text="${track.due_date}"></td>
                    <td width="100" th:text="${track.return_date}"></td>
                    <td width="100" th:text="${track.fine}"></td>
                </div>
            </tr>
        </table>
    </div>
</body>
</html>